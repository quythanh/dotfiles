# Original wallpaper - NO BLUR (like real macOS)
background {
    monitor =
    path = ~/.config/.resources/images/Kurumi_lockscreen.png
    blur_passes = 0
    blur_size = 0
    noise = 0.0
    contrast = 1.0
    brightness = 0.6
    vibrancy = 0.0
    vibrancy_darkness = 0.0
}

# Dark overlay (macOS style dimming)
background {
    monitor =
    color = rgba(0, 0, 0, 0.3)
}

# Large centered avatar (Big Sur style)
image {
    monitor =
    path = /var/lib/AccountsService/icons/$USER
    size = 180
    rounding = -1
    border_size = 5
    border_color = rgba(255, 255, 255, 0.5)
    position = 0, 80
    halign = center
    valign = center
}

# Username below avatar
label {
    monitor =
    text = たかなり
    color = rgba(255, 255, 255, 0.98)
    font_size = 32
    font_family = Noto Sans CJK JP
    position = 0, -50
    halign = center
    valign = center
}

# Password field with more blur
input-field {
    monitor =
    size = 340, 52
    outline_thickness = 0
    dots_size = 0.22
    dots_spacing = 0.35
    dots_center = true
    dots_rounding = -1
    outer_color = rgba(255, 255, 255, 0)
    inner_color = rgba(255, 255, 255, 0.15)
    font_color = rgba(255, 255, 255, 0.98)
    fade_on_empty = true
    placeholder_text = <span foreground="##ffffff65">パスワードを入力</span>
    hide_input = false
    rounding = 14
    check_color = rgba(52, 199, 89, 0)
    fail_color = rgba(255, 69, 58, 0)
    fail_text = <span foreground="##ff453a">パスワードが正しくありません</span>
    position = 0, -130
    halign = center
    valign = center
}

# Hint text
# label {
#     monitor =
#     text = Touch ID または パスワードでロックを解除
#     color = rgba(255, 255, 255, 0.55)
#     font_size = 14
#     font_family = Noto Sans CJK JP
#     position = 0, -195
#     halign = center
#     valign = center
# }

# Time - top center
label {
    monitor =
    text = cmd[update:1000] date +"%H:%M"
    color = rgba(255, 255, 255, 0.95)
    font_size = 22
    font_family = JetBrainsMono Nerd Font
    position = 0, -50
    halign = center
    valign = top
}

# Date - top center
label {
    monitor =
    text = cmd[update:60000] /bin/zsh -c 'LC_TIME=ja_JP.UTF-8 date +"%-Y年%-m月%-d日 (%A)"'
    color = rgba(255, 255, 255, 0.75)
    font_size = 15
    font_family = Noto Sans CJK JP
    position = 0, -85
    halign = center
    valign = top
}

# Music player - bottom center
label {
    monitor =
    text = cmd[update:2000] $HOME/.dotfiles/hypr/hyprlock/utils/music/metadata.sh
    font_size = 14
    font_family = Noto Sans CJK JP
    color = rgba(255, 255, 255, 0.85)
    position = 0, 110
    halign = center
    valign = bottom
}

label {
    monitor =
    text = cmd[update:1000] $HOME/.dotfiles/hypr/hyprlock/utils/music/progress.sh
    font_size = 11
    font_family = monospace
    color = rgba(255, 255, 255, 0.7)
    position = 0, 85
    halign = center
    valign = bottom
}

# Bottom info
label {
    monitor =
    text = たかなり ♡ 時崎狂三
    color = rgba(255, 255, 255, 0.5)
    font_size = 13
    font_family = Noto Sans CJK JP
    position = 45, 45
    halign = left
    valign = bottom
}

label {
    monitor =
    text = cmd[update:30000] /bin/zsh -c 'BAT=$(cat /sys/class/power_supply/BAT*/capacity 2>/dev/null | head -1); STAT=$(cat /sys/class/power_supply/BAT*/status 2>/dev/null | head -1); if [[ "$STAT" == "Charging" ]]; then ICON=""; elif [[ $BAT -gt 80 ]]; then ICON=""; elif [[ $BAT -gt 50 ]]; then ICON=""; elif [[ $BAT -gt 20 ]]; then ICON=""; else ICON=""; fi; echo "$ICON  $BAT%"'
    color = rgba(255, 255, 255, 0.6)
    font_size = 14
    font_family = JetBrainsMono Nerd Font
    position = -45, 45
    halign = right
    valign = bottom
}
